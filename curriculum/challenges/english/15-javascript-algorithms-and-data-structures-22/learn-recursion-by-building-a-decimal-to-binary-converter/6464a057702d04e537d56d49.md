---
id: 6464a057702d04e537d56d49
title: Step 103
challengeType: 0
dashedName: step-103
---

# --description--

You might be wondering, if the `.forEach()` loop is iterating through the objects in `animationData` in order from beginning to end, how does the animation play in reverse? It's because of the `setTimeout()` function, and the `addElDelay` properties you set up before.

Imagine you're baking a cake and a tray of cookies, and that each has its own timer that you start at the same time. The cookies take 15 minutes to bake, and that timer goes off first. The cake takes 30 minutes total, so after another 15 minutes, its timer goes off.

You're doing a similar thing here. You're calling `setTimeout()` multiple times, but each one has a different delay value.

Now it's time to set up for the next phase of the animation where you'll update and remove the paragraphs you append to the DOM during the animation.

Add the property `msg` to the first animation object and set its value to an empty string.

# --hints--

Test 1

```js

```

# --seed--

## --seed-contents--

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Decimal to Binary Converter</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <h1>Decimal to Binary Converter</h1>
    <div class="input-container">
      <input
        value=""
        placeholder="Type in a number"
        type="number"
        name="decimal"
        id="number"
        class="number-input"
      />
      <button class="convert-btn" id="convert">Convert</button>
    </div>

    <h2 id="result"></h2>
    <div id="animation-container"></div>
    <script src="script.js"></script>
  </body>
</html>
```

```css
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  --light-grey: #f5f6f7;
  --dark-blue: #1b1b32;
  --orange: #f1be32;
}

body {
  background-color: var(--dark-blue);
  font-family: "Times New Roman", Times, serif;
  color: var(--light-grey);
}

h1 {
  text-align: center;
  font-size: 3rem;
  margin: 20px 0;
}

.input-container {
  display: flex;
  justify-content: center;
  align-items: center;
}

.convert-btn {
  background-color: var(--orange);
  cursor: pointer;
  border: none;
  padding: 4px;
}

.number-input {
  height: 25px;
}

#result {
  width: 200px;
  min-height: 80px;
  padding: 15px 0;
  margin: 30px auto 0;
  border: 5px solid var(--orange);
  font-size: 2rem;
  text-align: center;
}

#animation-container {
  margin: auto;
  max-width: 300px;
}

.animation-frame {
  margin: 250px auto 0;
  padding: 15px 10px;
  border: 5px solid var(--orange);
  font-size: 1.2rem;
  text-align: center;
}
```

```js
const numberInput = document.getElementById("number");
const convertBtn = document.getElementById("convert");
const result = document.getElementById("result");
const animationContainer = document.getElementById("animation-container");
const animationData = [
--fcc-editable-region--
  {
    inputVal: 1,
    marginTop: -200,
    addElDelay: 2000
  },
--fcc-editable-region--
  {
    inputVal: 2,
    marginTop: -200,
    addElDelay: 1500
  },
  {
    inputVal: 5,
    marginTop: 300,
    addElDelay: 1000
  }
];

const decimalToBinary = (input) => {
  if (input === 0 || input === 1) {
    return input.toString();
  } else {
    return decimalToBinary(Math.floor(input / 2)) + (input % 2);
  }
};

const showAnimation = () => {
  result.innerText = "Call Stack Animation";

  animationData.forEach((obj) => {
    setTimeout(() => {
      animationContainer.innerHTML += `
        <p id="${obj.inputVal}" style="margin-top: ${obj.marginTop}px;" class="animation-frame">
          decimalToBinary(${obj.inputVal})
        </p>
      `;
    }, obj.addElDelay);
  });
};

const checkUserInput = () => {
  const inputInt = parseInt(numberInput.value);

  if (!numberInput.value || isNaN(inputInt)) {
    alert("Please provide a number");
    return; // Return early if the user input is invalid
  }

  if (inputInt === 5) {
    showAnimation();
    return;
  }

  result.innerText = decimalToBinary(inputInt);
  numberInput.value = "";
};

convertBtn.addEventListener("click", checkUserInput);

numberInput.addEventListener("keydown", (e) => {
  // Respond to Enter or Return keydown events
  if (e.key === "Enter") {
    checkUserInput();
  }
});
```
